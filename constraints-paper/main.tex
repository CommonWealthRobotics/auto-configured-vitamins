\documentclass{article}
\usepackage[utf8]{inputenc}
\usepackage{hyperref}
\usepackage{amsmath}
\usepackage{bera}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{placeins}
\usepackage[paper=a4paper,margin=1.25in]{geometry}
\usepackage{bm}
\usepackage{amssymb}
\usepackage{interval}

\title{Arm Constraints}
\author{Kevin Harrington, Ryan Benasutti}
\date{\today}

\newcommand{\code}{\texttt}

\begin{document}

\maketitle

\FloatBarrier
\section{Arm Constraints}

\FloatBarrier
\subsection{Features}

The feature matrix of a motor module is given by
\begin{equation}
    F_m =
    \begin{bmatrix}
        \tau_{stall}^{(1)} & \tau_{stall}^{(2)} & \tau_{stall}^{(3)} \\[6pt]
        \omega_{free}^{(1)} & \omega_{free}^{(2)} & \omega_{free}^{(3)} \\[6pt]
        P^{(1)} & P^{(2)} & P^{(3)} \\[6pt]
        M^{(1)} & M^{(2)} & M^{(3)}
    \end{bmatrix}
\end{equation}

where $\tau_{stall}^{(i)}$ is the stall torque in Newton-meters for motor $i$, $\omega_{free}^{(i)}$
is the free speed in radians per second for motor $i$, $P^{(i)}$ is the price of motor $i$, and
$M^{(i)}$ is the mass in kilograms of motor $i$.

\FloatBarrier
\subsection{Required Tip Velocity and Force Throughout Workspace}

We wish to enforce a minimum reachable tip velocity ($V_{tip}$, given as
\texttt{requiredTipForceNewtons}) and tip force ($F_{tip}$, given as
\texttt{requiredTipForceNewtons}) throughout all configurations $\boldsymbol{\theta} \in
\mathbb{W}^N$.

\begin{equation}
    \forall \boldsymbol{\theta} \in \mathbb{W}^N, J(\boldsymbol{\theta}) \boldsymbol{\dot{\theta}} \geq V_{tip}
    \label{eq:vtip_constraint}
\end{equation}

\begin{equation}
    \forall \boldsymbol{\theta} \in \mathbb{W}^N, J(\boldsymbol{\theta}) \boldsymbol{\tau} \geq F_{tip}
    \label{eq:ftip_constraint}
\end{equation}

$\boldsymbol{\dot{{\theta}}}$ and $\boldsymbol{\tau}$ are linked by the torque-speed curve of a motor,
\begin{equation}
    \tau_j = t^{(i)}(\dot{\theta}_j)
\end{equation}

The torque-speed curve of a motor is given by:
\begin{equation}
    t^{(i)}(\omega) = \tau_{stall}^{(i)} - \frac{\omega \cdot \tau_{stall}^{(i)}}{\omega_{free}^{(i)}}
\end{equation}

When specifying $\boldsymbol{\dot{\theta}}$, any value for $\dot{\theta_j}$
which satisfies both \ref{eq:vtip_constraint} and \ref{eq:ftip_constraint} and
is in the range $\interval{-\omega_{free}^{(i)}}{\omega_{free}^{(i)}}$ is
valid.

Idea: Specify $\mathbb{W}^{\prime N} \subset \mathbb{W}^N$ as an arbitrary surface instead of the
workspace. The underlying observation is that \ref{eq:vtip_constraint} and \ref{eq:ftip_constraint}
are met inside most of the workspace, so there is no need to evaluate all those configurations; only
configurations near the surface of the workspace are important. Furthermore, configurations on the
workspace surface itself are unimportant because the arm has very little manipulability in these
configurations. No reasonable designer would design an arm to operate at the very edges of its
workspace, so specifying a surface manually would work better.

\FloatBarrier
\subsection{Optimization Goal}

We want to optimize for price.

\end{document}
